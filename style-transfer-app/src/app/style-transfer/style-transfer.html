<div class=" bg-gradient-to-b from-purple-50 to-purple-100 flex flex-col items-center py-2 px-4">
  
  <!-- Hero / Info Section -->
  <div class="text-center max-w-3xl mb-12 animate-[fadeIn_0.6s_ease-out]">
    <h1 class="text-4xl md:text-5xl font-bold text-purple-800 mb-4">Neural Style Transfer</h1>
    <p class="text-gray-700 text-lg md:text-xl">
      Transform your photos into artwork by blending them with the style of another image. 
      Upload a <span class="font-semibold text-purple-700">content image</span> and a 
      <span class="font-semibold text-purple-700">style image</span>, then let AI create a unique masterpiece.  
    </p>
    <p class="text-gray-600 mt-2 text-sm">
      Powered by TensorFlow.js — runs entirely in your browser. No uploads, no servers.
    </p>
  </div>

  <!-- Loading Spinner (model init) -->
  <div *ngIf="loadingModel" class="flex flex-col items-center mb-6">
    <div class="w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full animate-spin"></div>
    <p class="text-gray-600 mt-3">Loading model (~10–12 MB). This only happens the first time.</p>
  </div>

  <!-- Upload Section -->
  <div class="flex flex-col md:flex-row gap-8 w-full max-w-4xl mb-8">
    
    <!-- Content Image Card -->
    <div class="flex-1 bg-white rounded-xl shadow-lg p-6 flex flex-col items-center 
                hover:shadow-pink-200 hover:shadow-xl transition duration-300 
                animate-[pop_0.4s_ease-out]">
      <h2 class="text-xl font-semibold text-gray-800 mb-3">Content Image</h2>
      <p class="text-gray-500 text-sm mb-4 text-center">
        The photo you want to transform. Structure is preserved from this.
      </p>
      <input type="file" accept="image/*" (change)="onContentUpload($event)"
             class="mb-4 w-full text-sm text-gray-600 file:mr-4 file:py-2 file:px-4
                    file:rounded-full file:border-0 file:text-sm file:bg-blue-500
                    file:text-white hover:file:bg-blue-600 cursor-pointer"/>
      <div *ngIf="contentUrl" class="mt-2 overflow-hidden rounded-lg">
        <img [src]="contentUrl" 
             class="rounded-lg shadow-md max-h-48 object-contain transform hover:scale-105 transition duration-300"/>
      </div>
    </div>

    <!-- Style Image Card -->
    <div class="flex-1 bg-white rounded-xl shadow-lg p-6 flex flex-col items-center 
                hover:shadow-purple-200 hover:shadow-xl transition duration-300 
                animate-[pop_0.4s_ease-out]">
      <h2 class="text-xl font-semibold text-gray-800 mb-3">Style Image</h2>
      <p class="text-gray-500 text-sm mb-4 text-center">
        The artistic style you want to apply (painting, sketch, etc.).
      </p>
      <input type="file" accept="image/*" (change)="onStyleUpload($event)"
             class="mb-4 w-full text-sm text-gray-600 file:mr-4 file:py-2 file:px-4
                    file:rounded-full file:border-0 file:text-sm file:bg-green-500
                    file:text-white hover:file:bg-green-600 cursor-pointer"/>
      <div *ngIf="styleUrl" class="mt-2 overflow-hidden rounded-lg">
        <img [src]="styleUrl" 
             class="rounded-lg shadow-md max-h-48 object-contain transform hover:scale-105 transition duration-300"/>
      </div>
    </div>

  </div>

  <!-- Apply Button -->
  <div class="mb-12">
    <button (click)="applyStyle()"
            [disabled]="!contentImgEl || !styleImgEl || loadingModel || processing"
            class="px-8 py-3 bg-purple-600 text-white font-semibold rounded-xl shadow-lg
                   hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed
                   transition-colors duration-200 flex items-center gap-2">
      <span *ngIf="processing" 
            class="w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"></span>
      {{ processing ? 'Processing…' : 'Generate Stylized Image' }}
    </button>
  </div>

  <!-- Result Section -->
  <div *ngIf="resultUrl" 
      #resultSection
      class="w-full max-w-3xl bg-white rounded-xl shadow-xl p-6 flex flex-col items-center 
              animate-[fadeIn_0.6s_ease-out]">
    <h3 class="text-2xl font-bold text-gray-800 mb-4">Stylized Result</h3>
    <p class="text-gray-500 text-sm mb-4 text-center">
      Your image has been transformed using your chosen style. Save it to share or keep it in your collection.
    </p>
    <div class="overflow-hidden rounded-lg mb-4 w-full">
      <img [src]="resultUrl" 
          class="rounded-lg shadow-lg w-full object-contain transform hover:scale-105 transition duration-300"/>
    </div>
    <button (click)="downloadResult()" 
            class="px-6 py-2 bg-indigo-500 text-white rounded-xl shadow-md
                  hover:bg-indigo-600 transition-colors duration-200">
      Download Image
    </button>
  </div>
</div>
